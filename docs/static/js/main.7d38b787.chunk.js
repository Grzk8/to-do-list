(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(22),i=a.n(l),c=a(11),r=a(13),s=a(10),u=a(5),d=a(6),m=a(8),h=a(7),v=a(9),p=function(e){var t=null,a=[t];return t=o.a.createElement("input",Object.assign({className:a.join(" ")},e.config,{className:"InputElement",placecholder:e.placecholder,id:e.id,onChange:e.changed,value:e.value})),o.a.createElement("div",null,o.a.createElement("label",null,e.label),t)},f=function(e){return o.a.createElement("button",{onClick:e.clicked,className:e.className,disabled:e.disabled},e.children)},g=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={controls:{identifier:{config:{type:"string",placeholder:"Email or Username"},value:"",validation:{required:!0},valid:!1,touched:!1},password:{config:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1}},logged:!1},a.inputChangedHandler=function(e,t){var n=Object(s.a)({},a.state.controls,Object(r.a)({},t,Object(s.a)({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0})));a.setState({controls:n})},a.getToken=function(e,t){var n={identifier:e,password:t};fetch("https://recruitment.ultimate.systems/auth/local",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){e.ok&&a.setState({logged:!0})}))},a.handleSubmitForm=function(e){e.preventDefault(),a.getToken(a.state.controls.identifier.value,a.state.controls.password.value,a.state.is)},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"checkValidity",value:function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLenght&&(a=e.length>=t.minLenght&&a),t.maxLenght&&(a=e.length<=t.maxLenght&&a),a}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map((function(t){return o.a.createElement(p,{key:t.id,config:t.config.config,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,changed:function(a){return e.inputChangedHandler(a,t.id)}})})),l=null;return!0===this.state.logged&&(l=o.a.createElement(c.a,{to:"/main"})),o.a.createElement("div",{className:"login"},o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:this.handleSubmitForm},n,o.a.createElement(f,null,"Login")),l,o.a.createElement("p",null,"or"),o.a.createElement("a",{href:"/to-do-list/create_account"},"create an account"))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={controls:{username:{config:{type:"string",placeholder:"Username"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{config:{type:"email",placeholder:"Email"},value:"",validation:{required:!0},valid:!1,touched:!1},password:{config:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1},passwordRepeat:{config:{type:"password",placeholder:"Repeat password"},value:"",validation:{required:!0,minLength:5,confirmed:!0},valid:!1,touched:!1}}},a.inputChangedHandler=function(e,t){var n=Object(s.a)({},a.state.controls,Object(r.a)({},t,Object(s.a)({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0})));a.setState({controls:n})},a.getToken=function(e,t,a){var n={username:e,email:t,password:a};console.log(n);fetch("https://recruitment.ultimate.systems/auth/local/register",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){return console.log(e)}))},a.handleSubmitForm=function(e){e.preventDefault(),a.getToken(a.state.controls.username.value,a.state.controls.email.value,a.state.controls.passwordRepeat.value)},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"checkValidity",value:function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLenght&&(a=e.length>=t.minLenght&&a),t.maxLenght&&(a=e.length<=t.maxLenght&&a),t.confirmed&&(a=e===this.state.controls.password.value),a}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map((function(t){return o.a.createElement(p,{key:t.id,config:t.config.config,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,changed:function(a){return e.inputChangedHandler(a,t.id)}})}));return o.a.createElement("div",{className:"createAccount"},o.a.createElement("a",{className:"goBack",href:"/to-do-list/"}),o.a.createElement("h1",null,"Create an new account"),o.a.createElement("form",{onSubmit:this.handleSubmitForm},n,o.a.createElement(f,null,"Create")))}}]),t}(n.Component),b=a(19),k=function(e){return o.a.createElement("ul",null,o.a.createElement("li",{className:"tasksList",key:e.taskId},o.a.createElement("div",{onClick:e.isDoneHandler},e.isDone),e.name))},N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={listName:"",date:"",term:"",id:"",isDone:!1,task:[{name:null,isDone:!1,taskId:null}]},a.inputListNameHandler=function(e){a.setState({listName:e.target.value}),console.log(a.state.listName,a.state.id)},a.taskChangeHandler=function(e){a.setState({term:e.target.value})},a.submitHandler=function(e){e.preventDefault();var t=(new Date).toLocaleDateString(),n={name:a.state.term,isDone:!1,id:Math.random(),date:t};a.setState({term:"",task:[].concat(Object(b.a)(a.state.task),[n])}),console.log(a.state)},a.isDoneHandler=function(e,t){var n=a.state.task.findIndex((function(e){return e.id===t})),o=Object(s.a)({},a.state.task[n]);o.isDone=!o.isDone;var l=Object(b.a)(a.state.task);l[n]=l,a.setState({task:l}),console.log(a.state.task)},a.confirmHandler=function(e){var t=a.state;fetch("https://recruitment.ultimate.systems/to-do-lists",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){return console.log(e)}))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"listName"},o.a.createElement(p,{value:this.state.listName,changed:function(t){return e.inputListNameHandler(t)}}),o.a.createElement("div",{className:"line"}));return o.a.createElement(o.a.Fragment,null,t,o.a.createElement("div",{className:"tasks"},o.a.createElement("div",{className:"list"},this.state.task.map((function(t,a){return o.a.createElement(k,{name:t.name,isDone:t.isDone,taskId:t.taskId,isDoneHandler:function(a){return e.isDoneHandler(a,t.taskId)}})}))),o.a.createElement("div",{className:"tasks"},o.a.createElement("form",{className:"App",onSubmit:this.submitHandler},o.a.createElement("input",{className:"taskName",placeholder:"Task name",value:this.state.term,onChange:this.taskChangeHandler}),o.a.createElement(f,{className:"addButton"},"Add")),o.a.createElement(f,{className:"cancelTask"},"Cancel"))),o.a.createElement(f,{clicked:this.props.show,className:"buttonCancel"},"CANCEL"),o.a.createElement(f,{className:"buttonSave",clicked:(this.props.show,function(t){return e.confirmHandler(t)})},"SAVE"))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={showNewList:!1},a.newListHandler=function(){a.setState({showNewList:!0})},a.backToListHandler=function(){a.setState({showNewList:!1})},a.loadData=function(){fetch("https://recruitment.ultimate.systems/to-do-lists/count",{method:"GET",body:JSON.stringify,headers:{accept:"application/json"}}).then((function(e){return console.log(e)}))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"logout",value:function(){localStorage.clear(),window.location.href="/to-do-list/"}},{key:"render",value:function(){var e=o.a.createElement("div",null,o.a.createElement("div",{className:"backToList",onClick:this.logout}),o.a.createElement("div",{className:"backToListArrow",onClick:this.logout}),o.a.createElement("div",{className:"toDoList"},o.a.createElement("input",{className:"search",placeholder:"Search"}),o.a.createElement("select",{className:"sort",placeholder:"Sort by"},o.a.createElement("option",{value:"name"},"Name"),o.a.createElement("option",{value:"date",selected:!0},"Date"),o.a.createElement("option",{value:"complated"},"Complated"))),o.a.createElement("div",{className:"addList",onClick:this.newListHandler}),o.a.createElement("div",{className:"addListLine",onClick:this.newListHandler}),o.a.createElement("div",{className:"addListLine2",onClick:this.newListHandler})),t=o.a.createElement(N,{show:this.backToListHandler});return this.state.showNewList?t:e}}]),t}(n.Component),w=function(e){return o.a.createElement("div",{className:"layout"},o.a.createElement("div",{className:"logo"},"ToDo-List"),o.a.createElement("div",{className:"mainContainer"},e.children))};var j=function(){var e=o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/to-do-list/",exact:!0,component:g}),o.a.createElement(c.b,{path:"/to-do-list/create_account",component:E}),o.a.createElement(c.b,{path:"/to-do-list/main",component:y}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,null,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(35);var L=a(15);i.a.render(o.a.createElement(L.a,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.7d38b787.chunk.js.map